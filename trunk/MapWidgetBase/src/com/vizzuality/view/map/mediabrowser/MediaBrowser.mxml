<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="60" addedToStage="onCreationComplete()">

	<mx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			import mx.events.SliderEvent;
			
			[Bindable]
			private var arrAux: ArrayCollection = new ArrayCollection();
			private var dataLength : int;
			private var i : int = 0;
			
			private function onCreationComplete():void {
				dataLength = arr.length;
				addEventListener(Event.ENTER_FRAME, addComponent);
				hList.dataProvider = arrAux;
			}
			
			private function addComponent(ev:Event):void{
				if (i == (dataLength-1)) {
					removeEventListener(Event.ENTER_FRAME,addComponent);
					arrAux.addItemAt(arr[i],i);
				} else {
					arrAux.addItemAt(arr[i],i);
					i++;					
				}
			}

			private function prev():void {
				var pos:int = hList.horizontalScrollPosition-1;
				var min:int = 0;
				var value:int = Math.max(min, pos);
				hList.horizontalScrollPosition = value;
			}

			private function next():void {
				var pos:int = hList.horizontalScrollPosition+1;
				var max:int = hList.maxHorizontalScrollPosition;
				var value:int = Math.min(pos, max);
				hList.horizontalScrollPosition = value;
			}

			private function slider_change(evt:SliderEvent):void {
				hList.horizontalScrollPosition = evt.value;
			}
		]]>
	</mx:Script>
	<mx:Array id="arr">
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
		<mx:Object src="assets/duck.jpg" />
		<mx:Object src="assets/sergio.jpg" />
	</mx:Array>

	<mx:Button label="&lt;" click="prev();"  width="34" toolTip="Previous"/>
	<mx:HorizontalList id="hList" 				
			dataProvider="{arrAux}"
			itemRenderer="com.vizzuality.view.map.mediabrowser.HorizontalListItemRenderer"
			verticalScrollPolicy="off"
			horizontalScrollPolicy="off"
			borderSkin="{null}"  width="100%" height="60"/>
	<mx:Button label="&gt;" click="next();"  width="32" toolTip="Next"/>	
</mx:HBox>
