<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="238" backgroundColor="#FFFFFF" backgroundAlpha="0.85" 
	filters="{[glowGrey]}">
	<mx:states>
		<mx:State name="loading">
			<mx:AddChild position="lastChild">
				<mx:Label text="Loading!!!" horizontalCenter="0" verticalCenter="-10" fontSize="25"/>
			</mx:AddChild>
			<mx:RemoveChild target="{label4}"/>
			<mx:RemoveChild target="{button1}"/>
		</mx:State>
		<mx:State name="moreinfo">
			<mx:SetProperty name="width" value="726"/>
			<mx:SetProperty name="height" value="382"/>
			<mx:AddChild position="lastChild">
				<mx:Button x="171" y="185" label="less info" click="currentState=''"/>
			</mx:AddChild>
			<mx:RemoveChild target="{button1}"/>
		</mx:State>
	</mx:states>
<mx:Script>
	<![CDATA[
		import com.vizzuality.services.DataServiceEvent;
		import mx.binding.utils.BindingUtils;
		import com.vizzuality.data.PA;
		import com.vizzuality.view.AppStates;
		import com.vizzuality.data.Country;
		import mx.rpc.events.FaultEvent;
		import mx.rpc.events.ResultEvent;
		import com.vizzuality.services.DataServices;
		
		private var currentId:Number;

		public function set siteid(id:Number):void {
			if (currentId!=id) {
				currentState='loading';
				DataServices.gi().addEventListener(DataServiceEvent.PA_DATA_LOADED,onDataLoaded);
				DataServices.gi().selectedPAId=id;
				currentId=id;
			}
		}
		
		private function onDataLoaded(event:DataServiceEvent):void {
			currentState='';
		}
		
	]]>
</mx:Script>

	<mx:GlowFilter id="glowGrey" blurX="5" blurY="5" alpha=".3" color="#000000" quality="2" />
	
	<!--ESTA A FALSO EH!-->
	<mx:Label x="93" y="81" text="{DataServices.gi().selectedPA.has}" id="label4" visible="false"/>
	<mx:Button x="82" y="185" label="more info" click="currentState='moreinfo'" id="button1" visible="false"/>
	<!--                -->
	
	<mx:VBox verticalGap="3" horizontalAlign="center" left="6" right="6" top="0">
		<mx:Canvas backgroundColor="#B4BB94" height="3" width="100%"/>
		<mx:Canvas width="100%">
			<mx:Text text="{(DataServices.gi().selectedPA.name + ', ' + DataServices.gi().selectedPA.country + ' [' + DataServices.gi().selectedPA.countryIsoCode + ']').toUpperCase()}" id="areaTitle" color="#375381" fontFamily="DINOT-Bold" fontSize="18" letterSpacing="-1" left="4" top="-1" width="197"/>
			<mx:Image right="14" width="7" top="12" source="@Embed('/com/vizzuality/style/assets/collapseOverlayPanelArrow.png')"/>
		</mx:Canvas>
		<mx:VBox verticalGap="0" paddingBottom="10" id="vboxLayers" horizontalAlign="center" width="100%" paddingLeft="4" paddingRight="4"> 
			<mx:HRule strokeColor="#B4BB94" strokeWidth="1" width="100%"/>
			<mx:Canvas styleName="greenContainer" id="canvas0" width="100%"
				verticalScrollPolicy="off" horizontalScrollPolicy="off">
				<mx:Label text="WDPA LAYERS" id="label1" color="#484848" fontFamily="DINOT-Medium" fontSize="13" left="7" top="6"/>
				<mx:VBox verticalGap="0" paddingLeft="15" paddingBottom="8" top="29">
					<mx:CheckBox label="Coral"/>
					<mx:CheckBox label="Cold Water Corals"/>
					<mx:CheckBox label="SeaGrass"/>
					<mx:CheckBox label="Mangroves"/>
				</mx:VBox>
			</mx:Canvas>
			<mx:HRule strokeColor="#B4BB94" strokeWidth="1" width="100%"/>
			<mx:Canvas styleName="softGreenContainer" width="100%"
				verticalScrollPolicy="off" horizontalScrollPolicy="off">
				<mx:Label text="FROM THE WEB" color="#484848" fontFamily="DINOT-Medium" fontSize="13" left="7" top="6"/>
				<mx:VBox verticalGap="0" paddingLeft="15" paddingBottom="8" top="29">
					<mx:CheckBox label="Wikipedia Articles"/>
					<mx:CheckBox label="Photos &amp; Pictures"/>
					<mx:CheckBox label="Videos"/>
				</mx:VBox>
			</mx:Canvas>
			<mx:HRule strokeColor="#B4BB94" strokeWidth="1" width="100%"/>
			<mx:Canvas styleName="greenContainer" width="100%"
				verticalScrollPolicy="off" horizontalScrollPolicy="off">
				<mx:Label text="GBIF DATA"  color="#484848" fontFamily="DINOT-Medium" fontSize="13" left="7" top="6"/>
				<mx:VBox verticalGap="0" paddingLeft="15" paddingBottom="8" top="29">
					<mx:CheckBox label="Species primary distributions"/>
				</mx:VBox>
			</mx:Canvas>
		</mx:VBox>
	</mx:VBox>
	
</mx:Canvas>
